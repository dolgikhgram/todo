{"ast":null,"code":"import { v1 } from \"uuid\";\nimport { todolistId1 } from \"./todolists-reducer\";\nconst initialState = {\n  [todolistId1]: [{\n    id: v1(),\n    title: 'Тестовое задание',\n    isDone: false\n  }, {\n    id: v1(),\n    title: 'Прекрасный код',\n    isDone: true\n  }, {\n    id: v1(),\n    title: 'Покрытие тестами',\n    isDone: false\n  }]\n};\nexport const tasksReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'REMOVE-TASK':\n      {\n        const stateCopy = {\n          ...state\n        };\n        const tasks = stateCopy[action.todolistId];\n        const filteredTasks = tasks.filter(t => t.id !== action.taskId);\n        stateCopy[action.todolistId] = filteredTasks;\n        return {\n          ...stateCopy\n        };\n      }\n    case 'REMOVE-TASK-COMPLETED':\n      {\n        const stateCopy = {\n          ...state\n        };\n        const tasks = stateCopy[action.todolistId];\n        const filteredTasks = tasks.filter(t => !t.isDone);\n        stateCopy[action.todolistId] = filteredTasks;\n        return stateCopy;\n      }\n    case 'ADD-TASK':\n      {\n        if (action.title.trim().length !== 0) {\n          const stateCopy = {\n            ...state\n          };\n          const tasks = stateCopy[action.todolistId];\n          const newTask = {\n            id: v1(),\n            title: action.title,\n            isDone: false\n          };\n          const newTasks = [newTask, ...tasks];\n          stateCopy[action.todolistId] = newTasks;\n          return stateCopy;\n        }\n        return {\n          ...state\n        };\n      }\n    case 'CHANGE-CHEKED-TASK':\n      {\n        let copyState = {\n          ...state\n        };\n        copyState[action.todolistId].map(el => {\n          if (el.id === action.taskId) {\n            if (el) {\n              el.isDone = action.isDone;\n            }\n          }\n        });\n        return copyState;\n      }\n    case 'CHANGE-TASK-TITLE':\n      {\n        const copyState = {\n          ...state\n        };\n        if (action.title.trim().length !== 0) {\n          copyState[action.todolistId].forEach(el => {\n            if (el.id === action.taskId) {\n              el.title = action.title;\n            }\n          });\n        }\n        return {\n          ...copyState\n        };\n      }\n    case 'ADD-TOODOLIST':\n      {\n        const stateCopy = {\n          ...state\n        };\n        stateCopy[action.todolistId] = [];\n        return stateCopy;\n      }\n    case 'REMOVE-TODOLIST':\n      {\n        const stateCopy = {\n          ...state\n        };\n        delete stateCopy[action.id];\n        return stateCopy;\n      }\n    default:\n      return state;\n  }\n};\nexport const removeTaskAC = (todolistId, taskId) => {\n  return {\n    type: 'REMOVE-TASK',\n    todolistId: todolistId,\n    taskId: taskId\n  };\n};\nexport const addTaskAC = (todolistId, title) => {\n  return {\n    type: 'ADD-TASK',\n    todolistId: todolistId,\n    title: title\n  };\n};\nexport const changeCheckedTaskAC = (todolistId, taskId, isDone) => {\n  return {\n    type: 'CHANGE-CHEKED-TASK',\n    todolistId: todolistId,\n    taskId: taskId,\n    isDone: isDone\n  };\n};\nexport const changeTaskTitleAC = (todolistId, taskId, title) => {\n  return {\n    type: 'CHANGE-TASK-TITLE',\n    todolistId: todolistId,\n    taskId: taskId,\n    title: title\n  };\n};\nexport const removeTaskCompletedAC = todolistId => {\n  return {\n    type: 'REMOVE-TASK-COMPLETED',\n    todolistId: todolistId\n  };\n};","map":{"version":3,"names":["v1","todolistId1","initialState","id","title","isDone","tasksReducer","state","action","type","stateCopy","tasks","todolistId","filteredTasks","filter","t","taskId","trim","length","newTask","newTasks","copyState","map","el","forEach","removeTaskAC","addTaskAC","changeCheckedTaskAC","changeTaskTitleAC","removeTaskCompletedAC"],"sources":["/Users/user/Documents/Projects/React:Typescript-project/Todolist/todolist-project/src/state/tasks-reducer.ts"],"sourcesContent":["import { v1 } from \"uuid\"\nimport { AddTodolistActionType, RemoveTodolistActionType, todolistId1, todolistId2 } from \"./todolists-reducer\"\nimport { TaskStateType } from \"../AppWithRedux\"\nexport type  ActionRemoveTaskType={\n    type: 'REMOVE-TASK'\n    todolistId:string\n    taskId:string\n}\nexport type ActionAddTaskType = {\n    type: 'ADD-TASK'\n    todolistId:string\n    title:string\n}\nexport type ChangeCheckedTaskActionType = {\n    type: 'CHANGE-CHEKED-TASK'\n    todolistId:string\n    taskId:string\n    isDone:boolean\n}\nexport type ChangeTaskTitleActionType = {\n    type: 'CHANGE-TASK-TITLE'\n    todolistId:string, \n    taskId:string, \n    title:string\n}\nexport type  ActionRemoveCompletedType={\n    type: 'REMOVE-TASK-COMPLETED'\n    todolistId:string\n}\n\nconst initialState: TaskStateType = {\n    [todolistId1]:[\n        {id:v1(), title:'Тестовое задание', isDone:false},\n        {id:v1(), title:'Прекрасный код', isDone:true},\n        {id:v1(), title:'Покрытие тестами', isDone:false},\n    ]\n}\nexport type ActionsTypes  = ActionRemoveTaskType |  ActionAddTaskType |  ChangeCheckedTaskActionType | ChangeTaskTitleActionType | AddTodolistActionType | RemoveTodolistActionType | ActionRemoveCompletedType\nexport const tasksReducer = (state: TaskStateType = initialState, action: ActionsTypes): TaskStateType => {\n    switch(action.type){\n        case 'REMOVE-TASK': {\n            const stateCopy = {...state}\n            const tasks = stateCopy[action.todolistId]\n            const filteredTasks = tasks.filter(t=>t.id!== action.taskId)\n            stateCopy[action.todolistId]=filteredTasks\n            return {...stateCopy}\n        }\n        case 'REMOVE-TASK-COMPLETED': {\n            const stateCopy = {...state}\n            const tasks = stateCopy[action.todolistId]\n            const filteredTasks = tasks.filter(t=>!t.isDone)\n            stateCopy[action.todolistId]=filteredTasks\n            return stateCopy\n        }\n\n        case 'ADD-TASK':{\n            if(action.title.trim().length!==0){\n                const stateCopy = {...state}\n                const tasks = stateCopy[action.todolistId]\n                const newTask = {id:v1(), title:action.title, isDone:false}\n                const newTasks = [newTask,...tasks]\n                stateCopy[action.todolistId]=newTasks\n                return stateCopy\n            }\n            return {...state}\n        }\n        case 'CHANGE-CHEKED-TASK':{\n            let copyState ={...state}\n            copyState[action.todolistId].map((el)=>{\n                if(el.id===action.taskId){\n                    if (el) {\n                        el.isDone= action.isDone\n                    }\n                }\n            })\n            return copyState\n        }\n        case 'CHANGE-TASK-TITLE':{\n            const copyState  = {...state}\n            if(action.title.trim().length!==0){\n                copyState[action.todolistId].forEach((el)=>{\n                    if (el.id===action.taskId){\n                    el.title=action.title\n                    }\n                })\n            }\n            return {...copyState}\n        }\n        case  'ADD-TOODOLIST':{\n            const stateCopy = {...state}\n            stateCopy[action.todolistId]=[]\n            return stateCopy\n        }\n        case 'REMOVE-TODOLIST' : {\n            const stateCopy = {...state}\n            delete stateCopy[action.id]\n            return stateCopy\n        }\n        default:\n            return state\n    }\n}\nexport const removeTaskAC  = (todolistId:string, taskId:string):ActionRemoveTaskType =>{\n    return { type:'REMOVE-TASK', todolistId: todolistId, taskId: taskId}\n}\nexport const addTaskAC = (todolistId:string, title:string):ActionAddTaskType =>{\n    return {type: 'ADD-TASK',todolistId: todolistId , title:title}\n}\nexport const changeCheckedTaskAC = (todolistId:string, taskId:string, isDone:boolean):ChangeCheckedTaskActionType =>{\n    return {type: 'CHANGE-CHEKED-TASK',todolistId: todolistId , taskId:taskId, isDone:isDone}\n}\nexport const  changeTaskTitleAC = (todolistId:string, taskId:string, title:string):ChangeTaskTitleActionType =>{\n    return {type: 'CHANGE-TASK-TITLE',todolistId: todolistId , taskId:taskId, title:title}\n}\n\nexport const removeTaskCompletedAC  = (todolistId:string):ActionRemoveCompletedType =>{\n    return { type:'REMOVE-TASK-COMPLETED', todolistId: todolistId}\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}