{"ast":null,"code":"import { v1 } from \"uuid\";\nconst initialState = {\n  [todolistId1]: [{\n    id: v1(),\n    title: 'CSS',\n    isDone: true\n  }, {\n    id: v1(),\n    title: 'JS',\n    isDone: true\n  }, {\n    id: v1(),\n    title: 'React',\n    isDone: false\n  }, {\n    id: v1(),\n    title: 'Redux',\n    isDone: false\n  }],\n  [todolistId2]: [{\n    id: v1(),\n    title: 'Book',\n    isDone: false\n  }, {\n    id: v1(),\n    title: 'Milk',\n    isDone: true\n  }]\n};\nexport const tasksReducer = (state = initialState, action) => {\n  switch (action.type) {\n    case 'REMOVE-TASK':\n      {\n        const stateCopy = {\n          ...state\n        };\n        const tasks = stateCopy[action.todolistId];\n        const filteredTasks = tasks.filter(t => t.id !== action.taskId);\n        stateCopy[action.todolistId] = filteredTasks;\n        return {\n          ...stateCopy\n        };\n      }\n    case 'ADD-TASK':\n      {\n        if (action.title.trim().length !== 0) {\n          const stateCopy = {\n            ...state\n          };\n          const tasks = stateCopy[action.todolistId];\n          const newTask = {\n            id: v1(),\n            title: action.title,\n            isDone: false\n          };\n          const newTasks = [newTask, ...tasks];\n          stateCopy[action.todolistId] = newTasks;\n          return stateCopy;\n        }\n        return {\n          ...state\n        };\n      }\n    case 'CHANGE-CHEKED-TASK':\n      {\n        let copyState = {\n          ...state\n        };\n        copyState[action.todolistId].map(el => {\n          if (el.id === action.taskId) {\n            if (el) {\n              el.isDone = action.isDone;\n              console.log(el);\n            }\n          }\n        });\n        return copyState;\n      }\n    case 'CHANGE-TASK-TITLE':\n      {\n        const copyState = {\n          ...state\n        };\n        if (action.title.trim().length !== 0) {\n          copyState[action.todolistId].forEach(el => {\n            if (el.id === action.taskId) {\n              el.title = action.title;\n            }\n          });\n        }\n        return {\n          ...copyState\n        };\n      }\n    case 'ADD-TOODOLIST':\n      {\n        const stateCopy = {\n          ...state\n        };\n        stateCopy[action.todolistId] = [];\n        return stateCopy;\n      }\n    case 'REMOVE-TODOLIST':\n      {\n        const stateCopy = {\n          ...state\n        };\n        delete stateCopy[action.id];\n        return stateCopy;\n      }\n    default:\n      return state;\n  }\n};\nexport const removeTaskAC = (todolistId, taskId) => {\n  return {\n    type: 'REMOVE-TASK',\n    todolistId: todolistId,\n    taskId: taskId\n  };\n};\nexport const addTaskAC = (todolistId, title) => {\n  return {\n    type: 'ADD-TASK',\n    todolistId: todolistId,\n    title: title\n  };\n};\nexport const changeCheckedTaskAC = (todolistId, taskId, isDone) => {\n  return {\n    type: 'CHANGE-CHEKED-TASK',\n    todolistId: todolistId,\n    taskId: taskId,\n    isDone: isDone\n  };\n};\nexport const changeTaskTitleAC = (todolistId, taskId, title) => {\n  return {\n    type: 'CHANGE-TASK-TITLE',\n    todolistId: todolistId,\n    taskId: taskId,\n    title: title\n  };\n};","map":{"version":3,"names":["v1","initialState","todolistId1","id","title","isDone","todolistId2","tasksReducer","state","action","type","stateCopy","tasks","todolistId","filteredTasks","filter","t","taskId","trim","length","newTask","newTasks","copyState","map","el","console","log","forEach","removeTaskAC","addTaskAC","changeCheckedTaskAC","changeTaskTitleAC"],"sources":["/Users/user/Documents/Projects/React:Typescript-project/Todolist/todolist-project/src/state/tasks-reducer.ts"],"sourcesContent":["import { v1 } from \"uuid\"\nimport { AddTodolistActionType, RemoveTodolistActionType } from \"./todolists-reducer\"\nimport { TaskStateType } from \"../App\"\nexport type  ActionRemoveTaskType={\n    type: 'REMOVE-TASK'\n    todolistId:string\n    taskId:string\n}\nexport type ActionAddTaskType = {\n    type: 'ADD-TASK'\n    todolistId:string\n    title:string\n}\nexport type ChangeCheckedTaskActionType = {\n    type: 'CHANGE-CHEKED-TASK'\n    todolistId:string\n    taskId:string\n    isDone:boolean\n}\nexport type ChangeTaskTitleActionType = {\n    type: 'CHANGE-TASK-TITLE'\n    todolistId:string, \n    taskId:string, \n    title:string\n}\nconst initialState = {\n    [todolistId1]:[\n        {id:v1(), title:'CSS', isDone:true},\n        {id:v1(), title:'JS', isDone:true},\n        {id:v1(), title:'React', isDone:false},\n        {id:v1(), title:'Redux', isDone:false}\n    ],\n    [todolistId2]:[\n        {id:v1(), title:'Book', isDone:false},\n        {id:v1(), title:'Milk', isDone:true},\n    ]\n}\nexport type ActionsTypes  = ActionRemoveTaskType |  ActionAddTaskType |  ChangeCheckedTaskActionType | ChangeTaskTitleActionType | AddTodolistActionType | RemoveTodolistActionType\nexport const tasksReducer = (state: TaskStateType = initialState, action: ActionsTypes): TaskStateType => {\n    switch(action.type){\n        case 'REMOVE-TASK': {\n            const stateCopy = {...state}\n            const tasks = stateCopy[action.todolistId]\n            const filteredTasks = tasks.filter(t=>t.id!== action.taskId)\n            stateCopy[action.todolistId]=filteredTasks\n            return {...stateCopy}\n        }\n        case 'ADD-TASK':{\n            if(action.title.trim().length!==0){\n                const stateCopy = {...state}\n                const tasks = stateCopy[action.todolistId]\n                const newTask = {id:v1(), title:action.title, isDone:false}\n                const newTasks = [newTask,...tasks]\n                stateCopy[action.todolistId]=newTasks\n                return stateCopy\n            }\n            return {...state}\n        }\n        case 'CHANGE-CHEKED-TASK':{\n            let copyState ={...state}\n            copyState[action.todolistId].map((el)=>{\n                if(el.id===action.taskId){\n                    if (el) {\n                        el.isDone= action.isDone\n                        console.log(el)\n                    }\n                }\n            })\n            return copyState\n        }\n        case 'CHANGE-TASK-TITLE':{\n            const copyState  = {...state}\n            if(action.title.trim().length!==0){\n                copyState[action.todolistId].forEach((el)=>{\n                    if (el.id===action.taskId){\n                    el.title=action.title\n                    }\n                })\n            }\n            return {...copyState}\n        }\n        case  'ADD-TOODOLIST':{\n            const stateCopy = {...state}\n            stateCopy[action.todolistId]=[]\n            return stateCopy\n        }\n        case 'REMOVE-TODOLIST' : {\n            const stateCopy = {...state}\n            delete stateCopy[action.id]\n            return stateCopy\n        }\n        default:\n            return state\n    }\n}\nexport const removeTaskAC  = (todolistId:string, taskId:string):ActionRemoveTaskType =>{\n    return { type:'REMOVE-TASK', todolistId: todolistId, taskId: taskId}\n}\nexport const addTaskAC = (todolistId:string, title:string):ActionAddTaskType =>{\n    return {type: 'ADD-TASK',todolistId: todolistId , title:title}\n}\nexport const changeCheckedTaskAC = (todolistId:string, taskId:string, isDone:boolean):ChangeCheckedTaskActionType =>{\n    return {type: 'CHANGE-CHEKED-TASK',todolistId: todolistId , taskId:taskId, isDone:isDone}\n}\nexport const  changeTaskTitleAC = (todolistId:string, taskId:string, title:string):ChangeTaskTitleActionType =>{\n    return {type: 'CHANGE-TASK-TITLE',todolistId: todolistId , taskId:taskId, title:title}\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}